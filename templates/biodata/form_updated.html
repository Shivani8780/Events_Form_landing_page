{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Free Biodata Online Form Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            color: #333;
            overflow-x: hidden;
            scroll-behavior: smooth;
            overscroll-behavior-y: none; /* Prevent overscroll bounce */
        }
        body {
            background-image: url('https://i0.wp.com/detechter.com/wp-content/uploads/2017/07/Hindu-Wedding-India.jpg?fit=886%2C535&ssl=1');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: scroll;
            background-color: #f7f0f0;
            min-height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 60px; /* To avoid overlap with fixed navbar */
        }
        .form-container {
            max-width: 600px;
            width: 100%;
            margin: 40px auto 80px auto; /* Added bottom margin for mobile spacing */
            background: rgba(253, 249, 249, 0.95);
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 0 25px rgba(0,0,0,0.15);
            max-height: 90vh;
            overflow-y: auto;
            box-sizing: border-box;
        }
        h1 {
            margin-bottom: 30px;
            text-align: center;
            color: #2c3e50;
            font-weight: 700;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            border-bottom: 2px solid #d6336c;
            padding-bottom: 8px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
            overflow-wrap: break-word;
            word-wrap: break-word;
            hyphens: auto;
        }
        button {
            width: 100%;
            padding: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            background-color: #d6336c;
            border: none;
            border-radius: 8px;
            color: white;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #b52a58;
        }
        /* Custom smaller input size for hobbies and other habits */
        .small-input {
            max-height: 100px;
        }
        /* Custom color for section titles */
        .section-title {
            color: #d6336c;
            font-weight: 700;
            font-size: 1.4rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #d6336c;
            padding-bottom: 5px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        /* Increase input box border width */
        input.form-control, textarea.form-control, select.form-control, input.form-check-input {
            border-width: 1.5px !important;
            border-style: solid !important;
            border-color: #2c3e50 !important;
            border-radius: 6px;
            padding: 6px 8px;
            font-size: 0.9rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        /* Serial number style */
        .serial-number {
            font-weight: 400;
            margin-right: 5px;
            color: #333435;
        }
        /* Two column layout for form fields */
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        .form-group {
            flex: 1 1 40%;
            min-width: 220px;
            margin-bottom: 15px;
        }
        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding: 20px;
                background-size: cover;
                background-position: center center;
                min-height: 90vh;
            }
            .form-container {
                padding: 15px 20px;
                max-width: 90%;
                margin: 0 auto;
            }
            .form-row {
                flex-direction: column;
                gap: 10px;
            }
            .form-group {
                flex: 1 1 100%;
                min-width: auto;
            }
            button {
                font-size: 1rem;
                padding: 12px;
            }
        }
        @media (max-width: 480px) {
            html, body {
                width: 100vw;
                height: 100vh;
                margin: 0;
                padding: 0;
            }
            body {
                padding: 0;
                margin: 0;
                height: 100vh;
                background-size: cover;
                background-position: center center;
                min-height: 100vh;
            }
            .form-container {
                padding: 12px 16px;
                max-width: 90%;
                margin: 20px auto 100px auto; /* Reduced top margin to bring form closer to navbar */
            }
            h1 {
                font-size: 20px;
                overflow-wrap: break-word;
                word-wrap: break-word;
                hyphens: auto;
            }
            .form-group {
                margin-bottom: 12px;
            }
            button {
                font-size: 0.95rem;
                padding: 10px;
            }
        }
        /* Pink color for declaration label */
        label.declaration-label {
            color: #d6336c !important;
            font-weight: 600;
        }
    </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <span class="nav-toggle" id="js-nav-toggle">&#9776;</span>
        <ul class="nav-links" id="js-menu">
        <li><a href="{% url 'home_page' %}">Home</a></li>
        <li><a href="{% url 'gallery_page' %}">Gallery</a></li>
        <li><a href="{% url 'contact_us_page' %}">Contact Us</a></li>
      </ul>
    </nav>
  </header>
  <style>
    header {
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #1d4e89;
      box-shadow: 0 3px 8px rgba(0,0,0,0.25);
      z-index: 1100;
      padding: 10px 20px; /* Reduced padding top and bottom to reduce height */
      box-sizing: border-box;
      border-radius: 0 0 0 0;
    }
    .navbar {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 40px; /* Explicit height to match home page */
    }
    .nav-links {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 30px;
    }
    .nav-links li {
      display: inline;
    }
    .nav-links a {
      color: #ffffff;
      text-decoration: none;
      font-weight: 700;
      font-size: 15px;
      padding: 12px 22px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      transition: background-color 0.35s ease, box-shadow 0.35s ease;
      line-height: 16px; /* Added line-height to reduce height */
    }
    .nav-links a:hover {
      background-color: #154a6a;
      box-shadow: 0 4px 12px rgba(21, 74, 106, 0.7);
    }
    /* Responsive Hamburger Navbar Styling */
        @media (max-width: 650px) {
          header {
            padding: 5px 5px;
          }
          .navbar {
            justify-content: flex-end;
            align-items: center;
            position: relative;
            height: 40px;
          }
          .nav-toggle {
            display: inline-block;
            cursor: pointer;
            font-size: 28px;
            color: #fff;
            padding: 8px 18px 8px 0; /* Reduced top and bottom padding to move toggle slightly upward */
            margin-top: -8px; /* Added negative margin to shift toggle upward */
            z-index: 2001;
            background: none;
            border: none;
            outline: none;
            margin-bottom: 0;
          }
          .nav-links {
            display: none;
            flex-direction: column;
            gap: 0;
            position: absolute;
            top: 50px;
            left: 3vw;
            width: 150px;
            background: #1d4e89;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 6px 22px rgba(0,0,0,0.18);
            padding: 0 0 10px 0;
            z-index: 5000;
            margin: 0;
            text-align: right;
          }
          .nav-links.show {
            display: flex;
            animation: slideDown 0.22s cubic-bezier(.41,-0.03,.38,1.54);
          }
          @keyframes slideDown {
            from {transform: translateY(-30px);opacity: 0;}
            to {transform: translateY(0);opacity:1;}
          }
          .nav-links li {
            display: block;
            width: 100%;
            margin: 0;
            text-align: left;
          }
          .nav-links a {
            width: 100%;
            display: block;
            padding: 17px 24px;
            font-size: 1.1em;
            background: none;
            font-weight: bold;
            color: #fff;
            border-radius: 0;
            border-bottom: 1px solid #164d7a;
            box-shadow: none;
            margin: 0;
            letter-spacing: 0.02em;
          }
          .nav-links a:last-child {
            border-bottom: none;
          }
          .nav-links a:hover, .nav-links a:focus {
            background: #154a6a;
            color: #fff;
          }
        }
        body {
          padding-top: 80px !important; /* Increased padding top to avoid navbar overlap */
        }

    /* Hide the burger on desktop */
    .nav-toggle {display:none;}
    @media (max-width:650px) {
        .nav-toggle {display:inline-block;}
    }
  </style>
  <div class="form-container">
    <h1>Free Biodata Online Form</h1>
    <form method="post" enctype="multipart/form-data" novalidate>
      {% csrf_token %}
      {% for field in form %}
        <div class="form-row">
          <div class="form-group">
            <label for="{{ field.id_for_label }}" class="form-label {% if field.name == 'declaration' %}declaration-label{% endif %}" style="white-space: normal; word-wrap: break-word; display: inline-block; max-width: 100%; vertical-align: top; text-indent: -1.5em; padding-left: 1.5em;">
              <span class="serial-number">{{ forloop.counter }}.</span>
              {% if field.name == 'candidate_current_city' %}
                Candidate Current City / ઉમેદવાર પોતે હાલ કાયા CITY / શહેર / ગામ માં રહે છે , તે અહીં લખો :
              {% elif field.name == 'registrant_mobile' %}
                જે આ રેજીસ્ટ્રેશન કરી રહ્યું છે , તે અહીં પોતાનો MOBILE નંબર લખશો // Mention here your own Mobile Number (for Reference & Verification Purpose)
              {% elif field.name == 'father_name' %}
                Father's Name
              {% elif field.name == 'father_mobile' %}
                Father's WhatsappNo
              {% elif field.name == 'mother_name' %}
                Mother's Name
              {% elif field.name == 'mother_mobile' %}
                Mother's WhatsappNo
              {% elif field.name == 'siblings' %}
                Siblings Details (Brother/Sister)
              {% elif field.name == 'partner_education' %}
                Choice Of Education (Partner Preference)
              {% elif field.name == 'partner_location' %}
                Choice Of Location (Partner Preference)
              {% elif field.name == 'partner_age_bracket' %}
                Choice Of Age Gap/ Difference in Year (Partner Preference)
              {% elif field.name == 'other_specific_choice' %}
                Any Other Choice (Partner Preference)
              {% else %}
                {{ field.label }}
              {% endif %}
            </label>
            {% if field.field.widget.input_type == "select" %}
              <select id="{{ field.id_for_label }}" name="{{ field.html_name }}" class="form-control" required>
                <option value="" disabled selected>Select an Option</option>
                {% for val, text in field.field.choices %}
                  {% if val != "" %}
                    <option value="{{ val }}" {% if field.value == val %}selected{% endif %}>{{ text }}</option>
                  {% endif %}
                {% endfor %}
              </select>
            {% elif field.field.widget.input_type == "checkbox" %}
              {{ field|add_class:"form-check-input" }}
            {% elif field.name == "other_specific_choice" or field.name == "education_details" or field.name == "occupation_details" %}
              {{ field|add_class:"form-control small-input" }}
            {% elif field.name == "photograph" %}
              <input type="file" id="{{ field.id_for_label }}" name="{{ field.html_name }}" class="form-control" required />
            {% else %}
              {{ field|add_class:"form-control" }}
            {% endif %}
            {% if field.help_text %}
              <div class="form-text">{{ field.help_text }}</div>
            {% endif %}
            {% for error in field.errors %}
              <div class="text-danger">{{ error }}</div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
      <button type="submit" class="btn btn-primary btn-lg mt-3">Submit</button>
    </form>
  </div>
  <script>
    const toggle = document.getElementById('js-nav-toggle');
    const menu = document.getElementById('js-menu');
    toggle.onclick = function() {
      menu.classList.toggle('show');
    }
    // Optional: close menu after click a link
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.onclick = function(){ menu.classList.remove('show'); }
    });
  </script>
</body>
</html>
